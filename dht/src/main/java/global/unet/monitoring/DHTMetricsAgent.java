package global.unet.monitoring;

/**
 * Упрощенная версия агента метрик для компиляции
 */
public class DHTMetricsAgent {
    private final String nodeId;
    private final String serverUrl;
    
    public DHTMetricsAgent(String nodeId, String serverUrl) {
        this.nodeId = nodeId;
        this.serverUrl = serverUrl;
        System.out.println("Metrics agent created for node: " + nodeId);
    }
    
    public void start() {
        System.out.println("Metrics agent started for node: " + nodeId);
    }
    
    public void stop() {
        System.out.println("Metrics agent stopped for node: " + nodeId);
    }
    
    public String getNodeId() {
        return nodeId;
    }
    
    public String getServerUrl() {
        return serverUrl;
    }
}

