# –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–µ–∫—Ç–∞ DHT

## –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- **94 Java —Ñ–∞–π–ª–∞**, 2706 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- **–û—Ç–ª–∏—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: Clean Architecture + DDD
- **–ê–ª–≥–æ—Ä–∏—Ç–º**: Kademlia DHT —Å XOR –º–µ—Ç—Ä–∏–∫–æ–π
- **–°—Ç–∞—Ç—É—Å**: 75 TODO, –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–∞–≥–ª—É—à–µ–∫, —Å–∏—Å—Ç–µ–º–∞ –Ω–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–∞
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ Domain/Application —Å–ª–æ–∏  
‚úÖ –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ Kademlia  
‚úÖ –•–æ—Ä–æ—à–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤  
‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è  

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–µ–ª—ã
‚ùå XOR –º–µ—Ç—Ä–∏–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞  
‚ùå K-buckets –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç  
‚ùå –°–æ–æ–±—â–µ–Ω–∏—è Kademlia –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã  
‚ùå –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç  
‚ùå –°–µ—Ç–µ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç  

## –ü–ª–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (12-17 –Ω–µ–¥–µ–ª—å)

### –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (4-6 –Ω–µ–¥–µ–ª—å) üî¥ –ö–†–ò–¢–ò–ß–ù–û
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è XOR –º–µ—Ç—Ä–∏–∫–∏ –≤ KademliaId
- –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å–æ–æ–±—â–µ–Ω–∏–π (PING, STORE, FIND_NODE, FIND_VALUE)
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è k-buckets –∏ —Ç–∞–±–ª–∏—Ü—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 2: –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ DHT (3-4 –Ω–µ–¥–µ–ª–∏) üü° –í–´–°–û–ö–ò–ô
- –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ KademliaRegularNode
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

### –§–∞–∑–∞ 3: –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å (2-3 –Ω–µ–¥–µ–ª–∏) üü¢ –°–†–ï–î–ù–ò–ô
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ–µ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

### –§–∞–∑–∞ 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (3-4 –Ω–µ–¥–µ–ª–∏) üü° –í–´–°–û–ö–ò–ô
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
- –°—É—â–µ—Å—Ç–≤—É—é—â—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É (Clean Architecture + DDD)
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏
- –ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
- XOR –º–µ—Ç—Ä–∏–∫—É: `distance = id1 XOR id2`
- K-buckets: LRU —Å–ø–∏—Å–∫–∏ —É–∑–ª–æ–≤ –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ –¥–µ—Ä–µ–≤–∞
- –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫: –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Œ± —É–∑–ª–∞–º
- –†–µ–ø–ª–∏–∫–∞—Ü–∏—é: —Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ k –±–ª–∏–∂–∞–π—à–∏—Ö —É–∑–ª–∞—Ö

### –ö–ª—é—á–µ–≤—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã
```
FIND_NODE(target):
1. –ù–∞—á–∞—Ç—å —Å –±–ª–∏–∂–∞–π—à–∏—Ö –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —É–∑–ª–æ–≤
2. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å Œ± —É–∑–ª–æ–≤
3. –ò–∑ –æ—Ç–≤–µ—Ç–æ–≤ –≤—ã–±—Ä–∞—Ç—å –±–ª–∏–∂–∞–π—à–∏–µ –∫ target
4. –ü–æ–≤—Ç–æ—Ä—è—Ç—å –¥–æ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è k –±–ª–∏–∂–∞–π—à–∏—Ö

STORE(key, value):
1. –ù–∞–π—Ç–∏ k –±–ª–∏–∂–∞–π—à–∏—Ö —É–∑–ª–æ–≤ –∫ key
2. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å value –Ω–∞ –≤—Å–µ—Ö –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —É–∑–ª–∞—Ö
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –¥–ª—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
```

## –û—Ü–µ–Ω–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —ç–∫—Å–ø–µ—Ä—Ç–∏–∑–µ
- –û–ø—ã—Ç —Å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- –ì–ª—É–±–æ–∫–∏–µ –∑–Ω–∞–Ω–∏—è Java –∏ —Å–µ—Ç–µ–≤–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ peer-to-peer —Å–µ—Ç–µ–π
- –ó–Ω–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ Clean Architecture

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã
- **–ú–∏–Ω–∏–º—É–º**: 12 –Ω–µ–¥–µ–ª—å (3 –º–µ—Å—è—Ü–∞)
- **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ**: 15 –Ω–µ–¥–µ–ª—å (3.5 –º–µ—Å—è—Ü–∞)
- **–° –∑–∞–ø–∞—Å–æ–º**: 17 –Ω–µ–¥–µ–ª—å (4 –º–µ—Å—è—Ü–∞)

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
1. –§–∞–∑–∞ 1 –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ
2. –ë–µ–∑ XOR –º–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
3. –ë–µ–∑ k-buckets –Ω–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
4. –ë–µ–∑ —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç DHT –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **–∞–º–±–∏—Ü–∏–æ–∑–Ω—É—é –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —Å–ª–æ–∂–Ω—É—é** —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å **–æ—Ç–ª–∏—á–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π –æ—Å–Ω–æ–≤–æ–π**. –ê–≤—Ç–æ—Ä –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç **–≥–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ** –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

**–ö–ª—é—á–µ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞**: —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ "–∫—Ä–∞—Å–∏–≤–æ–≥–æ –∫–∞—Ä–∫–∞—Å–∞" –±–µ–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –Ω–∞—á–∏–Ω–∫–∏. –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª**: –ü—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø–æ–ª—É—á–∏—Ç—Å—è **–≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Kademlia DHT**, –ø—Ä–∏–≥–æ–¥–Ω–∞—è –∫–∞–∫ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π, —Ç–∞–∫ –∏ –¥–ª—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ü—Ä–æ–µ–∫—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ —Å—Ç–æ–∏—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –≤—Ä–µ–º–µ–Ω–∏ –∏ —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—ã –≤ –æ–±–ª–∞—Å—Ç–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º.

